(this["webpackJsonpprojeto9-cineflex"]=this["webpackJsonpprojeto9-cineflex"]||[]).push([[0],{66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){"use strict";c.r(t);var s=c(28),i=c.n(s),a=c(1),n=c(3),j=c(7),r=c(2),l=c(6),o=c.n(l),d=c(0);function b(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("header",{className:"header",children:"CINEFLEX"})})}var m=c.p+"static/media/load.f2c3a660.gif";function O(){var e=Object(a.useState)([]),t=Object(n.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){o.a.get("https://mock-api.driven.com.br/api/v5/cineflex/movies").then((function(e){s(e.data)}))}),[]),0===c.length?Object(d.jsx)("div",{className:"loading",children:Object(d.jsx)("img",{src:m,alt:"loading..."})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{}),Object(d.jsx)("div",{className:"title",children:"Selecione o filme"}),Object(d.jsx)("div",{className:"movies",children:c.map((function(e){return Object(d.jsx)(j.b,{to:"/sessions/".concat(e.id),children:Object(d.jsx)("div",{className:"movie-card",children:Object(d.jsx)("img",{src:e.posterURL,alt:e.title})})})}))})]})}function h(){var e=Object(a.useState)([]),t=Object(n.a)(e,2),c=t[0],s=t[1],i=Object(r.g)().idMovie,l=c.days;return Object(a.useEffect)((function(){o.a.get("https://mock-api.driven.com.br/api/v5/cineflex/movies/".concat(i,"/showtimes")).then((function(e){s(e.data)}))}),[i]),0===c.length?Object(d.jsx)("div",{className:"loading",children:Object(d.jsx)("img",{src:m,alt:"loading..."})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{}),Object(d.jsxs)("div",{className:"container-session",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:c.posterURL,alt:c.title,title:c.title})}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("div",{className:"title-session",children:"Selecione o hor\xe1rio"}),l.map((function(e){return Object(d.jsxs)("div",{className:"date-card",children:[Object(d.jsx)("div",{className:"date",children:Object(d.jsxs)("h1",{children:[e.weekday,"-",e.date]})}),Object(d.jsx)("div",{className:"hours",children:e.showtimes.map((function(e){return Object(d.jsx)(j.b,{to:"/seats/".concat(e.id),children:Object(d.jsx)("p",{children:e.name})})}))})]})}))]})]})]})}var x,u=c(29),v=c(11),p=c(34);function f(e){var t=e.src,c=e.title,s=e.weekday,i=e.time;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("footer",{children:[Object(d.jsx)("div",{className:"poster",alt:"poster",children:Object(d.jsx)("img",{src:t,alt:"poster"})}),Object(d.jsxs)("div",{className:"sessionInfor",children:[Object(d.jsx)("h1",{children:c}),Object(d.jsxs)("h2",{children:[s," - ",i]})]})]})})}function g(e){var t=e.classSeat,c=e.name,s=e.id,i=e.hold,j=Object(a.useState)(t),r=Object(n.a)(j,2),l=r[0],o=r[1];return Object(d.jsx)("div",{className:l,onClick:function(){return e=l,void("seat available"===t?"seat selected"===e?(i(s,!1),o("seat available")):(i(s,!0),o("seat selected")):alert("N\xe3o est\xe1 dispon\xedvel!"));var e},children:c})}function N(e){var t=e.confirm,c=Object(r.g)().idSession,s=Object(a.useState)(),i=Object(n.a)(s,2),l=i[0],O=i[1],h=Object(a.useState)({ids:[]}),x=Object(n.a)(h,2),u=x[0],N=x[1],k=Object(a.useState)(""),y=Object(n.a)(k,2),C=y[0],w=y[1],F=Object(a.useState)(""),D=Object(n.a)(F,2),I=D[0],P=D[1];if(Object(a.useEffect)((function(){o.a.get("https://mock-api.driven.com.br/api/v5/cineflex/showtimes/".concat(c,"/seats")).then((function(e){O(e.data)}))}),[c]),void 0===l)return Object(d.jsx)("div",{className:"loading",children:Object(d.jsx)("img",{src:m,alt:"loading..."})});var R=l.movie,E=l.day,L=l.name;function M(e,t){N(t?{ids:[].concat(Object(p.a)(u.ids),[e])}:{ids:u.ids.filter((function(t){return t!==e}))})}var U=0!==u.ids.length&&0!==C.length&&!(11!==I.length);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{}),Object(d.jsxs)("div",{className:"container-seat",children:[Object(d.jsxs)("div",{className:"seats",children:[Object(d.jsx)("h2",{children:"Selecione o(s) assento(s)"}),Object(d.jsx)("div",{className:"seats-to-choose",children:l.seats.map((function(e){return!0===e.isAvailable?Object(d.jsx)(g,{classSeat:"seat available",name:e.name,id:e.id,hold:M}):Object(d.jsx)(g,{classSeat:"seat unavailable",name:e.name})}))}),Object(d.jsxs)("div",{className:"subtitle",children:[Object(d.jsxs)("div",{className:"selected",children:[Object(d.jsx)("div",{className:"seat selected"}),Object(d.jsx)("p",{children:"Selecionado"})]}),Object(d.jsxs)("div",{className:"available",children:[Object(d.jsx)("div",{className:"seat available"}),Object(d.jsx)("p",{children:"Dispon\xedvel"})]}),Object(d.jsxs)("div",{className:"unavailable",children:[Object(d.jsx)("div",{className:"seat unavailable"}),Object(d.jsx)("p",{children:"Indispon\xedvel"})]})]})]}),Object(d.jsxs)("div",{className:"username-information",children:[Object(d.jsxs)("div",{className:"username",children:[Object(d.jsx)("div",{className:"name",children:"Digite seu nome completo:"}),Object(d.jsx)("input",{type:"text",className:"input-name",placeholder:"Nome completo",onChange:function(e){w(e.target.value),N(Object(v.a)(Object(v.a)({},u),{},{name:e.target.value}))},value:C})]}),Object(d.jsxs)("div",{className:"info-identificationDocument",children:[Object(d.jsx)("div",{className:"identificationDocument",children:"Digite seu CPF:"}),Object(d.jsx)("input",{type:"text",className:"input-identificationDocument",placeholder:"CPF",onChange:function(e){P(e.target.value),N(Object(v.a)(Object(v.a)({},u),{},{identificationDocument:e.target.value}))},value:I})]}),!0===U?Object(d.jsx)(j.b,{to:"/PurchaseReceipt",children:Object(d.jsx)(S,{correct:U,onClick:function(){return t(u,c,""),void o.a.post("https://mock-api.driven.com.br/api/v5/cineflex/seats/book-many",u)},children:"Reservar assento(s)"})}):Object(d.jsx)(j.b,{to:"",children:Object(d.jsx)(S,{onClick:function(){0===u.ids.length?alert("Selecione um assento!"):0===C.length?alert("Digite o seu nome completo!"):11!==I.length&&alert("Digite um CPF v\xe1lido!")},children:"Reservar assento(s)"})})]})]}),Object(d.jsx)(f,{src:R.posterURL,title:R.title,weekday:E.weekday,time:L})]})}var S=c(30).a.button(x||(x=Object(u.a)(["\n    background-color: gold;\n    width: 250px;\n    height: 60px;\n    margin: 50px auto;\n\n    font-size: 20px;\n    text-aling: center;\n    color: rgb(49, 49, 49);\n    border-radius: 20px;\n    border: none;\n    cursor: pointer;\n\n    /*Criar anima\xe7\xe3o*/\n\n    opacity: ",";\n    color: ",";\n"])),(function(e){return e.correct?"1":"0.3"}),(function(e){return e.correct?"white":"rgb(49, 49, 49)"}));function k(e){var t=e.confirm,c=Object(a.useState)(),s=Object(n.a)(c,2),i=s[0],j=s[1];return Object(a.useEffect)((function(){o.a.get("https://mock-api.driven.com.br/api/v5/cineflex/showtimes/".concat(t.sessionId,"/seats")).then((function(e){j(e.data)}))}),[t.sessionId]),void 0===i?Object(d.jsx)("div",{className:"loading",children:Object(d.jsx)("img",{src:m,alt:"loading..."})}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{}),Object(d.jsxs)("div",{className:"ticketPage",children:[Object(d.jsx)("div",{className:"sucessMessage",children:Object(d.jsx)("h1",{children:"Pedido feito com sucesso!"})}),Object(d.jsx)("div",{className:"ticketInfo",children:Object(d.jsxs)("div",{className:"ticketContainer",children:[Object(d.jsxs)("div",{className:"movieName",children:[Object(d.jsx)("h2",{children:"Filme:"}),Object(d.jsx)("p",{children:i.movie.title})]}),Object(d.jsxs)("div",{className:"sessionInfo",children:[Object(d.jsx)("h2",{children:"Sess\xe3o:"}),Object(d.jsxs)("p",{children:[i.day.date," - ",i.name]})]}),Object(d.jsxs)("div",{className:"ticket",children:[Object(d.jsx)("h2",{children:"Ingressos:"}),Object(d.jsx)("p",{children:"Assento: 13"})]}),Object(d.jsxs)("div",{className:"buyer",children:[Object(d.jsx)("h2",{children:"Comprador:"}),Object(d.jsxs)("div",{className:"buyerContanier",children:[Object(d.jsx)("div",{className:"buyerName",children:Object(d.jsxs)("p",{children:["Nome: ",t.name]})}),Object(d.jsx)("div",{className:"buyerIdentification",children:Object(d.jsxs)("p",{children:["CPF: ",t.identificationDocument]})})]})]})]})})]})]})}function y(){var e=Object(a.useState)({}),t=Object(n.a)(e,2),c=t[0];t[1];return Object(d.jsx)(j.a,{children:Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{path:"/",element:Object(d.jsx)(O,{})}),Object(d.jsx)(r.a,{path:"/sessions/:idMovie",element:Object(d.jsx)(h,{})}),Object(d.jsx)(r.a,{path:"/seats/:idSession",element:Object(d.jsx)(N,{})}),Object(d.jsx)(r.a,{path:"./PurchaseReceipt",element:Object(d.jsx)(k,{confirm:c})})]})})}c(66),c(67);var C=document.querySelector(".root");i.a.render(Object(d.jsx)(y,{}),C)}},[[68,1,2]]]);
//# sourceMappingURL=main.e2b9b2ea.chunk.js.map